"""
heinrich-heine zwei blauwesten
U6 Schumacher-Platz 2 Controller merhingdam
2x Hellblau U8 Hermannplatz Richtung Wittenau am Bahnsteig
U8 pankstrasse 2 Blau veste
2 Kontrolleure U9 Richtung Osloer Straße
Und zwei Cops oben am Bahnsteig der SBahn
U 8 Heinrich Heine str
Friedrichstrasse bei der u6 waren gerade zwei mit bos westen
2personen dunkel blaue weste
U2 Ernst Reuter Platz
U9 4 (oder mehr) blauwesten auf Gleis Spichernstraße
Zwei Stück Richtung Osloer
Jetzt Zoo in der Bahn richtung Steglitz!
U6 Mehringdamm -> hallesches Tor gerade ausgestiegen. 2 Kontrolleure in schwarz, glaube ich. :)
S Alexanderplatz west direction at least one ticket checker with a white puffer jacket on the platform
u6 leopoldplatz towards alt mariendorf 2 people with 2 cops
u6 paradestraße ausgestiegen.
M10 towards turmstr. two guys with no uniform
U boddinstrasse. 5 security's / 3 cops
Gerade S Tiergarten Richtung zoo
Walther Schreiber Platz U9 Richtung Rathaus Steglitz Kontrolletis
2 in schwarz S tempelhof
Grad ausgestiegen s41
S7, 2 männlich gelesene in zivil grad Friedrichstraße mit jemandem ausgestiegen
Ring zwischen S Tempelhof und S Hermannstraße
U2 Märkisches Museum richting ruhleben 3 Männer mit B.O.S Jacken
Ring Bahn Hohenzollerndamm vor 2 Minuten eine Person alleine
S1 Richtung Spindersfeld, männlich gelesen gerade bei hermannstraße geht durch die Bahn
S1 nach spindlersfelde war ein am hermannplatz oder vorher
U8 Wittenau sind U Jannowitzbrücke raus
messe nord grad raus
3x weiblich jetzt westkreuz ina s41
Kontrolle in s42 jetzt Treptower Park
Kontrolle auf der Strecke u9
BOS Alex u8 on the platform
A lot of bvg and cops, outside, at Hermanplatz
3x m gelesen 1x w gelesen am hermannplatz Gleis u8 Richtung hermannstraße blaue bos jacken
S42 greiswalder strasse2 Männer 1 frau
Ring zwischen Hohenzollerndamm und Halensee. 3x weiblich gelesen, davon 1x weiße Jacke, 1x schwarz glänzende Jacke
2 Kontrolleure read male black outfits black beards in S8 to Ostkreuz, now Storkower Str got off at Storkower Straße 
S41 gleich Tempelhof. Ein Typ, eine Frau. Beide schwarze Kapuzenjacke. Er mit North Face Mütze schwarz, Sie mit langen blonden Haaren
U6 steigen gerade Wedding ein Richtung alt mariendorf im hinteren Teil der Bahn 3m blaue Jacken
Kontrolleur m gelesen S2 Frohnau jetzt Halensee In zivil, schwarze Jacke, schwarze Haare, braune Ledertasche
Jannowitzbrücke U8
S42 Tempelhof ein Mann und eine Frau mit langen blonden Haaren.
S41 tempelhof
U6 Friedrichstrasse direction north, K.Schumacher platz, 3 mannlich gelesen mit B.O.B. jackets
2 männer S42 Treptower park
S41 in Storkowerstr Richtung Ostkreuz
2 civil controllis in s 41 to landsberger
Three female kontrolettis in the S42 soon to be Bundesplatz
S45 Flughafen BER
Sind jetzt jungfeenheide. 1 x mal männlich und 1x mal weiblich gelesen komplett in schwarz
S8 Ostkreuz
Controller in S7 Richtung Alexanderplatz Was just checked in jannowitzbrucke
S42 Landsberger Alle, 2m, schwarze Jacke, schwarze Mütze. 2 m mit Gelber Weste begleiten.
3 Kontrolleure s Greifswalder
S8 Greifswalder Straße
S41 Ringbahn Landsberger allee big group of kontrolettis
Ring 41-> Landsberger Allee, glaube mehrere männer die auch Minderjährige hochnehmen
S42, 3x agressiv männlich, gerade Schönhauser ausgestiegen
Ring s42  approaching geundbrunnen civil control
5 Kontrolleure S8 to Birkenwerder
U8 heinrrich heinest blue vest at platform
Friedrichstraße
Spichernstraße U3 am Bahnsteig eine Person männl gelesen, komplett schwarz angezogen mit braunem undercut, ca 30 Jahre.. wirkt aber sehr nett weil er grad jemand erklärt wie er das Ticket einer anderen Person nachreichen kann
2x Blauwesten u8 Heinrich Heine straße Richtung Hermannstraße
Bitte hier keine Fragen, ob diese oder jene Linie gerade frei ist, sondern stattdessen die Suchfunktion (das Lupensymbol) nutzen. Danke! Nachricht gelöscht.
Two men wearing normal clothes in M5, checking tickets, just got off at alexanderplatz
U1 at hallesches tor towards warschauer str.  2 maybe 3 blue wests giving fines
Wenn mein Infopost über die Demo am Sonntag Nachmittag gegen Rechts als Spam gewertet wird (über die ja auch im Bild der Gruppe informiert wird) würde ich mir eine kurze Rückmeldung von euch darüber wünschen
No basically this is the decision of the admins who run this group because we share certain values and leftist politics. If you happen to dislike actions against fascists, it's you who might not belong in this group. Like Spam.
S41 Treptower Park, 2 Männer
U1 hallesches tor in der bahn richtung westen
s7 nach Ahrensfelde 3 Männer schwarze jacken hackescher markt ausgestiegen
Ring S41 Sonnenallee Richtung Neukölln
U6 friedrichstr
S42 two guys at frankfurterallee
Alexanderplatz an Gleis der u8 hellblaue westen
4x männlich gelesen S42 aktuell Landsbegwr immer noch im Zug
Alexanderplatz sbahn platform
41 wedding. Grun mantel
Ostbahnhof 8 Bundesbullen stehen an der Bahnsteigkante. Alle mit gelben Westen. Keine Ahnung ob die eingestiegen sind.
Ostkreuz 6 Polizisten kontrollieren Ausweise willkürlich
U6 Unter den Linden
unter den Linden, U6, Richtung Tegel, eine m gelesene Person mit blauer wrtse
U6 Richtung alt Mariendorf Stadtmitte eingestiegen 2 blauwesten m gelesen
U8 Hermannstr, just saw police + BVG going downstairs from the street
U8 Hermannstraße
S42 Hermanstraße , 2x schwarze Jacken
S25 S Hennigsdorf a least 2Pers.
3 Blauwesten Ubhf Heinrich Heine Str
U3 freie Universität stehen blau Westen. Sie werden wohl die nächste Bahn in die Innenstadt nehmen
U8 rosenthaler Richtung hermanstr
M27 Pankstr Richtung Jungfernheide
U2 From Alex to Ruhleben now bunch of them in a wagon
3 mänlich gelesene 2 mit gelben westen 1 mit blauer bos weste alex u8 richtung wittenau
About to get off s8 Prenzlauer Allee
M29 two men, to Halensee
s47 nach spindlerfeld s tempelhof eingestiegen 2 in zivil
"""

import unittest
from main import find_station, find_line, ubahn_lines, sbahn_lines

class TestFindStationAndLineFunction(unittest.TestCase):
    def test_find_station_and_line(self):
        test_cases = [
            ("heinrich-heine zwei blauwesten", "Heinrich-Heine-Straße", None),
            ("U6 Schumacher-Platz 2 Controller merhingdam", "Schumacherplatz", "U6"),
            ("2x Hellblau U8 Hermannplatz Richtung Wittenau am Bahnsteig", "Hermannplatz", "U8"),
            ("U8 pankstrasse 2 Blau veste", "Pankstraße", "U8"),
            ("2 Kontrolleure U9 Richtung Osloer Straße", "Osloer Straße", "U9"),
            ("Und zwei Cops oben am Bahnsteig der SBahn", None, None),
            ("U 8 Heinrich Heine str", "Heinrich-Heine-Straße", "U8"),
            ("Friedrichstrasse bei der u6 waren gerade zwei mit bos westen", "Friedrichstraße", "U6"),
            ("2personen dunkel blaue weste", None, None),
            ("U2 Ernst Reuter Platz", "Ernst-Reuter-Platz", "U2"),
            ("U9 4 (oder mehr) blauwesten auf Gleis Spichernstraße", "Spichernstraße", "U9"),
            ("Zwei Stück Richtung Osloer", None, None)
        ]

        for text, expected_station, expected_line in test_cases:
            with self.subTest(text=text):
                station = find_station(text)
                line = find_line(text, ubahn_lines + sbahn_lines)
                self.assertEqual(station, expected_station, f"Failed at '{text}': Expected station {expected_station}, found {station}")
                self.assertEqual(line, expected_line, f"Failed at '{text}': Expected line {expected_line}, found {line}")

if __name__ == '__main__':
    unittest.main()